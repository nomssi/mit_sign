<core:View xmlns:core="sap.ui.core" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" controllerName="mit_sign.controller.Home"
	xmlns:html="http://www.w3.org/1999/xhtml">
	<Page title="{i18n>Deliveries} {viewProperties>/updateTime}">
		<content>
			<PullToRefresh id="pullToRefresh" visible="{device>/support/touch}" refresh=".onRefresh"/>
			<!-- This list shows the search results -->
			<List visible="true" 
			    id="eventsList"
			    class="sapUIResponsiveMargin"
			    selectionChange=".onEventListSelect" 
			    noDataText="{i18n>homeNoData}" 
			    busyIndicatorDelay="0"
				updateFinished="onUpdateFinished" 
				items="{ path : '/Events', 
				         sorter : { path : 'VBELN', 
				                    descending : false },
				         parameters : { 'expand' : 'EventPositions' }
				        }" 
				growing="true"
				growingThreshold="5" 
				growingScrollToLoad="false">
				<headerToolbar>
					<Toolbar>
						<Title text="{i18n>ReceiverName}" />
						<ToolbarSpacer />
						<Button icon="sap-icon://sort" tooltip="Sort by VBELN"
						        press="onSortVBELN" />
						<SearchField width="50%" search="onFilterEvents" />
					</Toolbar>
				</headerToolbar>
				<items>
					<ObjectListItem type="Navigation" title="{Head/Kunnr} {ReceiverName}" 
					                press="onEventListItemPress" 
					                intro="{SignerName}"
						iconDensityAware="false">
						<attributes>
							<ObjectAttribute text="{VBELN}"/>
						</attributes>
						<firstStatus>
							<ObjectStatus
								text="{
									path : 'Status',
									formatter : '.formatter.statusText'
								}"/>
						</firstStatus>
						
					</ObjectListItem>
				</items>
			</List>
		</content>
	</Page>
</core:View>